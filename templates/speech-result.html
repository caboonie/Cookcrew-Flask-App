<html xmlns="http://www.w3.org/1999/xhtml">
  <head>

    
    <style type="text/css">
      .page_title {
        /*size: 100px;
        height: 80px; */
        font-size: 60px;
        color: black;
        border-bottom : 1px solid grey;
        height: 80px;
        padding: 10px;
        margin: 20px;
        
      }
      .page_content {
        padding: 10px;
        margin: 20px;
      }

    </style>

    <!--BOOTSTRAP CSS import-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"> 

    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/style_test.css')}}">



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    

  </head>
<body>
  {% extends 'basic_page.html' %}

  
  {% block content %}

  
  <div class=page_title>
      Speech
  </div>
  <div class=page_content>
    <p id="test">test</p>
    <p>{{message}}</p>
  </div>

  <script>
    $(function () {
      var blob = document.cookie;
      $('#test').html(blob);
      console.log("posting")
        var form = new FormData();
        form.append('file', blob, "audio.wav");
        //form.append('title', "randoTitle");
        //Chrome inspector shows that the post data includes a file and a title.     
        $.ajax({
          type: 'POST',
          url: '/speech-post',
          data: form,
          cache: false,
          processData: false,
          contentType: false
        }).done(function(data) {
          console.log(data);
        });
    });
  </script>
  
    
  {% endblock %}



  
  <!--BOOTSTRAP Javascript import-->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

</body>
</html>